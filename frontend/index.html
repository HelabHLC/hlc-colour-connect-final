<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>HLC Colour Atlas XL Connect</title>
  <style>
    body { font-family: sans-serif; margin: 0; padding: 0; }
    nav { display: flex; background: #333; color: white; }
    nav button {
      flex: 1; padding: 12px; border: none;
      background: #333; color: white; cursor: pointer;
    }
    nav button.active { background: #555; }
    .tab { display: none; padding: 1em; }
    .tab.active { display: block; }
    .swatch {
      display: inline-block;
      width: 40px; height: 40px;
      margin: 4px; border: 1px solid #ccc; cursor: pointer;
    }
    .palette { margin-top: 1em; background: #f4f4f4; padding: 0.5em; }
  </style>
</head>
<body>
  <h1 style="text-align:center;">ðŸŽ¨ HLC-Colour-Atlas-XL Connect</h1>
  <nav>
    <button onclick="showTab('grid')" class="active">Gitter</button>
    <button onclick="showTab('extract')">Extrahieren</button>
    <button onclick="showTab('filter')">Filter</button>
    <button onclick="showTab('convert')">Konvertieren</button>
    <button onclick="showTab('export')">Export</button>
  </nav>
  <div id="grid" class="tab active"><h2>Farbgitter</h2><div id="colorGrid"></div><div class="palette"><strong>Palette:</strong><div id="palette"></div></div></div>
  <div id="extract" class="tab"><h2>Bild extrahieren</h2><input type="file" /></div>
  <div id="filter" class="tab"><h2>Filter</h2><input id="filterInput" /></div>
  <div id="convert" class="tab"><h2>Konvertieren</h2><input id="convertInput" /><button>Konvertieren</button></div>
  <div id="export" class="tab"><h2>Export</h2><button onclick="exportJSON()">Als JSON</button><button onclick="exportCSV()">Als CSV</button></div>
  <script>
    let colors = [{"Name":"HLC 100 50 50","R":255,"G":200,"B":100,"Hex":"#ffc864"}];
    let palette = [];
    function showTab(id) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      [...document.querySelectorAll('nav button')].find(b => b.textContent.toLowerCase().includes(id)).classList.add('active');
    }
    function renderColors(list) {
      const grid = document.getElementById('colorGrid');
      grid.innerHTML = '';
      list.forEach(c => {
        const div = document.createElement('div');
        div.className = 'swatch'; div.style.background = c.Hex; div.title = c.Name;
        div.onclick = () => { palette.push(c); updatePalette(); };
        grid.appendChild(div);
      });
    }
    function updatePalette() {
      const div = document.getElementById('palette');
      div.innerHTML = '';
      palette.forEach(c => {
        const sw = document.createElement('div');
        sw.className = 'swatch';
        sw.style.background = c.Hex;
        div.appendChild(sw);
      });
    }
    function exportJSON() {
      const blob = new Blob([JSON.stringify(palette)], { type: 'application/json' });
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = "palette.json"; a.click();
    }
    function exportCSV() {
      const rows = palette.map(c => `${c.Name},${c.R},${c.G},${c.B},${c.Hex}`);
      const blob = new Blob(["Name,R,G,B,Hex\n" + rows.join("\n")], { type: 'text/csv' });
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = "palette.csv"; a.click();
    }
    renderColors(colors);
  </script>
</body>
</html>